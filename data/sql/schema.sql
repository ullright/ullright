CREATE TABLE ull_record (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_table_config (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', db_table_name VARCHAR(32), label VARCHAR(64), description LONGTEXT, sort_columns VARCHAR(255), search_columns VARCHAR(255), created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_parent_entity (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', first_name VARCHAR(64), last_name VARCHAR(64), name VARCHAR(64) NOT NULL UNIQUE, email VARCHAR(64), password VARCHAR(40), user_type BIGINT, created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_entity (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', first_name VARCHAR(64), last_name VARCHAR(64), name VARCHAR(64) NOT NULL UNIQUE, email VARCHAR(64), password VARCHAR(40), user_type BIGINT, type VARCHAR(255), created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_entity_group (namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', entity_id BIGINT, group_id BIGINT, created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), PRIMARY KEY(entity_id, group_id)) ENGINE = INNODB;
CREATE TABLE ull_column_type (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', class VARCHAR(32), label VARCHAR(64), description LONGTEXT, created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE test_table_translation (id BIGINT, my_string VARCHAR(64) NOT NULL, my_text LONGTEXT, lang CHAR(2), PRIMARY KEY(id, lang)) ENGINE = INNODB;
CREATE TABLE test_table (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', my_boolean TINYINT(1), my_email VARCHAR(64), my_useless_column VARCHAR(64), ull_user_id BIGINT, created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), INDEX ull_user_id_idx (ull_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_column_config_translation (id BIGINT, label VARCHAR(64), description LONGTEXT, lang CHAR(2), PRIMARY KEY(id, lang)) ENGINE = INNODB;
CREATE TABLE ull_column_config (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', db_table_name VARCHAR(32), db_column_name VARCHAR(32), ull_column_type_id BIGINT, options LONGTEXT, enabled TINYINT(1), show_in_list TINYINT(1), created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), INDEX ull_column_type_id_idx (ull_column_type_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_wiki (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', docid BIGINT NOT NULL, culture VARCHAR(7), body LONGTEXT, subject VARCHAR(255) NOT NULL, changelog_comment VARCHAR(255), read_counter BIGINT, edit_counter BIGINT, duplicate_tags_for_search LONGTEXT, locked_by_user_id BIGINT, locked_at DATETIME, created_at DATETIME, updated_at DATETIME, deleted TINYINT(1) DEFAULT '0' NOT NULL, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), INDEX locked_by_user_id_idx (locked_by_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tag (id INT AUTO_INCREMENT, name VARCHAR(100), is_triple TINYINT(1), triple_namespace VARCHAR(100), triple_key VARCHAR(100), triple_value VARCHAR(100), INDEX name_idx (name), INDEX triple1_idx (triple_namespace), INDEX triple2_idx (triple_key), INDEX triple3_idx (triple_value), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tagging (id INT AUTO_INCREMENT, tag_id INT NOT NULL, taggable_model VARCHAR(30), taggable_id BIGINT, INDEX tag_idx (tag_id), INDEX taggable_idx (taggable_model, taggable_id), INDEX tag_id_idx (tag_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_flow_column_config_translation (id BIGINT, label VARCHAR(64), lang CHAR(2), PRIMARY KEY(id, lang)) ENGINE = INNODB;
CREATE TABLE ull_flow_column_config (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', ull_flow_app_id BIGINT NOT NULL, sequence BIGINT, ull_column_type_id BIGINT, options LONGTEXT, enabled TINYINT(1) DEFAULT '1', show_in_list TINYINT(1) DEFAULT '1', mandatory TINYINT(1) DEFAULT '0', is_title TINYINT(1) DEFAULT '0', default_value VARCHAR(255), created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), INDEX ull_flow_app_id_idx (ull_flow_app_id), INDEX ull_column_type_id_idx (ull_column_type_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_flow_field_translation (id BIGINT, label VARCHAR(64), lang CHAR(2), PRIMARY KEY(id, lang)) ENGINE = INNODB;
CREATE TABLE ull_flow_field (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', ull_flow_app_id BIGINT NOT NULL, sequence BIGINT, ull_column_type_id BIGINT, options LONGTEXT, enabled TINYINT(1) DEFAULT '1', show_in_list TINYINT(1) DEFAULT '1', mandatory TINYINT(1) DEFAULT '0', is_title TINYINT(1) DEFAULT '0', default_value VARCHAR(255), created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), INDEX ull_flow_app_id_idx (ull_flow_app_id), INDEX ull_column_type_id_idx (ull_column_type_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_flow_app_translation (id BIGINT, label VARCHAR(64), doc_label VARCHAR(64), lang CHAR(2), PRIMARY KEY(id, lang)) ENGINE = INNODB;
CREATE TABLE ull_flow_app (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', slug VARCHAR(32) NOT NULL, icon VARCHAR(32), created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_flow_doc (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', ull_flow_app_id BIGINT NOT NULL, title VARCHAR(255), ull_flow_action_id BIGINT, assigned_to_ull_entitiy_id BIGINT NOT NULL, assigned_to_ull_flow_step_id BIGINT, created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), INDEX ull_flow_app_id_idx (ull_flow_app_id), INDEX assigned_to_ull_entitiy_id_idx (assigned_to_ull_entitiy_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ull_flow_value (id BIGINT AUTO_INCREMENT, namespace VARCHAR(32), creator_user_id BIGINT DEFAULT '1', updator_user_id BIGINT DEFAULT '1', ull_flow_doc_id BIGINT NOT NULL, ull_flow_column_config_id BIGINT NOT NULL, ull_flow_memory_id BIGINT, value LONGTEXT, created_at DATETIME, updated_at DATETIME, INDEX creator_user_id_idx (creator_user_id), INDEX updator_user_id_idx (updator_user_id), INDEX ull_flow_doc_id_idx (ull_flow_doc_id), INDEX ull_flow_column_config_id_idx (ull_flow_column_config_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE ull_record ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_record ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_table_config ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_table_config ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_parent_entity ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_parent_entity ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_entity ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_entity ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_entity_group ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_entity_group ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_column_type ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_column_type ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE test_table_translation ADD FOREIGN KEY (id) REFERENCES test_table(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE test_table ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE test_table ADD FOREIGN KEY (ull_user_id) REFERENCES ull_entity(id);
ALTER TABLE test_table ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_column_config_translation ADD FOREIGN KEY (id) REFERENCES ull_column_config(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE ull_column_config ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_column_config ADD FOREIGN KEY (ull_column_type_id) REFERENCES ull_column_type(id);
ALTER TABLE ull_column_config ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_wiki ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_wiki ADD FOREIGN KEY (locked_by_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_wiki ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE tagging ADD FOREIGN KEY (tag_id) REFERENCES tag(id);
ALTER TABLE ull_flow_column_config_translation ADD FOREIGN KEY (id) REFERENCES ull_flow_column_config(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE ull_flow_column_config ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_column_config ADD FOREIGN KEY (ull_flow_app_id) REFERENCES ull_flow_app(id) ON DELETE CASCADE;
ALTER TABLE ull_flow_column_config ADD FOREIGN KEY (ull_column_type_id) REFERENCES ull_column_type(id) ON DELETE CASCADE;
ALTER TABLE ull_flow_column_config ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_field_translation ADD FOREIGN KEY (id) REFERENCES ull_flow_field(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE ull_flow_field ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_field ADD FOREIGN KEY (ull_flow_app_id) REFERENCES ull_flow_app(id) ON DELETE CASCADE;
ALTER TABLE ull_flow_field ADD FOREIGN KEY (ull_column_type_id) REFERENCES ull_column_type(id) ON DELETE CASCADE;
ALTER TABLE ull_flow_field ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_app_translation ADD FOREIGN KEY (id) REFERENCES ull_flow_app(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE ull_flow_app ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_app ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_doc ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_doc ADD FOREIGN KEY (ull_flow_app_id) REFERENCES ull_flow_app(id) ON DELETE CASCADE;
ALTER TABLE ull_flow_doc ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_doc ADD FOREIGN KEY (assigned_to_ull_entitiy_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_value ADD FOREIGN KEY (updator_user_id) REFERENCES ull_entity(id);
ALTER TABLE ull_flow_value ADD FOREIGN KEY (ull_flow_doc_id) REFERENCES ull_flow_doc(id) ON DELETE CASCADE;
ALTER TABLE ull_flow_value ADD FOREIGN KEY (ull_flow_column_config_id) REFERENCES ull_flow_column_config(id) ON DELETE CASCADE;
ALTER TABLE ull_flow_value ADD FOREIGN KEY (creator_user_id) REFERENCES ull_entity(id);
