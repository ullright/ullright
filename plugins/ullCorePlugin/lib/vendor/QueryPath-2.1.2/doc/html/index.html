<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QueryPath: QueryPath: Find Your Way</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QueryPath
   &#160;<span id="projectnumber">2.1.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('index.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a>: Find Your Way </div>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="image">
<img src="querypath-200x333.png" alt="querypath-200x333.png"/>
</div>
<p> <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> is a PHP library for working with XML and HTML. It is a PHP implementation of jQuery's traversal and modification libraries.</p>
<h2><a class="anchor" id="getting_started"></a>
Getting Started</h2>
<p>To being using <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a>, you will probably want to take a look at these three pieces of documentation:</p>
<ul>
<li><a class="el" href="group__querypath__core.html#gaef0367b722980142efd304a5ed41fb15" title="The CssEventHandler interfaces with the CSS parser.">qp()</a>: The main <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> function (like jQuery's $ function.)</li>
<li><a class="el" href="group__querypath__core.html#gaf57e48b69cb3da60c06492dadd986e8f" title="A special-purpose version of qp() designed specifically for HTML.">htmlqp()</a>: A specialized version of <a class="el" href="group__querypath__core.html#gaef0367b722980142efd304a5ed41fb15" title="The CssEventHandler interfaces with the CSS parser.">qp()</a> for dealing with poorly formatted HTML.</li>
<li><a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a>: The <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> class, which has all of the main functions.</li>
</ul>
<p>One substantial difference from jQuery is that <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> does not return a new object for each call (for performance reasons). Instead, the same object is mutated from call to call. A chain, then, typically performs all methods on the same object. When you need multiple objects, <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> has a <a class="el" href="class_query_path.html#a9143ee58713b82bbd0467c4c5a5e137e">QueryPath::branch()</a> function that will return a cloned <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> object.</p>
<p><a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> also has numerous functions that jQuery does not. Some (like <a class="el" href="class_query_path.html#a5dbd87aa18d76152c8b20c35120956ee" title="Select the root element of the document.">QueryPath::top()</a> and <a class="el" href="class_query_path.html#aaf1779421737c6558b0456553770aa4d" title="Insert or retrieve a Data URL.">QueryPath::dataURL()</a>) are extensions we find useful. Most, however, are to either emphasize PHP features (<a class="el" href="class_query_path.html#aed6de5251b412ee5d098c2a332530e7f" title="Use regular expressions to filter based on the text content of matched elements.">QueryPath::filterPreg()</a>) or adapt to server-side needs (<a class="el" href="class_query_path_entities.html#ac2636e522e8add6661e47c223edebe2f" title="Replace all entities.">QueryPathEntities::replaceAllEntities()</a>).</p>
<h3><a class="anchor" id="basic_example"></a>
A Few Basic Examples</h3>
<p>Here is a basic example of <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> usage:</p>
<div class="fragment"><pre class="fragment"> require <span class="stringliteral">&#39;QueryPath/QueryPath.php&#39;</span>;
 
 <a class="code" href="group__querypath__core.html#gaef0367b722980142efd304a5ed41fb15" title="The CssEventHandler interfaces with the CSS parser.">qp</a>(<span class="stringliteral">&#39;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;root&gt;&lt;foo/&gt;&lt;/root&gt;&#39;</span>, <span class="stringliteral">&#39;foo&#39;</span>)-&gt;append(<span class="stringliteral">&#39;&lt;bar&gt;baz&lt;/bar&gt;&#39;</span>)-&gt;writeXML();
</pre></div><p>The above will create a new document from the XML string, find the <code>foo</code> element, and then append the <code>bar</code> element (complete with its text). Finally, the call to <a class="el" href="class_query_path.html#ac2ee9842d87e2a20fead454864b5d647" title="Send the XML document to the client.">QueryPath::writeXML()</a> will print the entire finished XML document to standard out (usually the web browser).</p>
<p>Here's an example using <a class="el" href="group__querypath__core.html#gaf57e48b69cb3da60c06492dadd986e8f" title="A special-purpose version of qp() designed specifically for HTML.">htmlqp()</a>:</p>
<div class="fragment"><pre class="fragment"> require <span class="stringliteral">&#39;QueryPath/QueryPath.php&#39;</span>;
 
 <span class="comment">// URL to fetch:</span>
 <a class="code" href="dbpedia_8php.html#acf215f34a917d014776ce684a9ee8909" title="Example of grabbing and parsing Linked Data from DBPedia.">$url</a> = <span class="stringliteral">&#39;http://technosophos.com&#39;</span>;

 <a class="code" href="dirty__html_8php.html#a3ad3a4240c0f97c7e85aff5c52a454d4" title="Urban Dictionary Random Word Generator.">print</a> <a class="code" href="group__querypath__core.html#gaef0367b722980142efd304a5ed41fb15" title="The CssEventHandler interfaces with the CSS parser.">qp</a>(<a class="code" href="dbpedia_8php.html#acf215f34a917d014776ce684a9ee8909" title="Example of grabbing and parsing Linked Data from DBPedia.">$url</a>, <span class="stringliteral">&#39;title&#39;</span>)-&gt;text();
</pre></div><p>The above will fetch the HTML from the given URL and then find the <code>title</code> tag. It will extract the text (<a class="el" href="class_query_path.html#ac1c1002f219cb0a28b02f0888857999c" title="Get or set the text contents of a node.">QueryPath::text()</a>) from the title and print it.</p>
<p>For more examples, check out the #Examples namespace (start with <a class="el" href="html_8php.html">examples/html.php</a>). Also, read about the <a class="el" href="group__querypath__core.html#gaef0367b722980142efd304a5ed41fb15" title="The CssEventHandler interfaces with the CSS parser.">qp()</a> and <a class="el" href="group__querypath__core.html#gaf57e48b69cb3da60c06492dadd986e8f" title="A special-purpose version of qp() designed specifically for HTML.">htmlqp()</a> functions.</p>
<h3><a class="anchor" id="online_sources"></a>
Online Sources</h3>
<ul>
<li>The official <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> site <a href="http://querypath.org">http://querypath.org</a></li>
<li>The latest API docs <a href="http://api.querypath.org">http://api.querypath.org</a></li>
<li>IBM DeveloperWorks Intro to <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> <a href="http://www.ibm.com/developerworks/web/library/os-php-querypath/index.html">http://www.ibm.com/developerworks/web/library/os-php-querypath/index.html</a></li>
<li><a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> articles at TechnoSophos.Com <a href="http://technosophos.com/qp/articles">http://technosophos.com/qp/articles</a></li>
<li>The <a class="el" href="class_query_path.html" title="The Query Path object is the primary tool in this library.">QueryPath</a> GitHub repository <a href="http://github.com/technosophos/querypath">http://github.com/technosophos/querypath</a></li>
</ul>
<p>If you find a good online resource, please submit it as an issue in GitHub, and we will most likely add it here.</p>
<h3><a class="anchor" id="more_examples"></a>
A Larger Example</h3>
<div class="fragment"><pre class="fragment">&lt;?php<span class="comment"></span>
<span class="comment">/** @file</span>
<span class="comment"> * Using QueryPath.</span>
<span class="comment"> *</span>
<span class="comment"> * This file contains an example of how QueryPath can be used</span>
<span class="comment"> * to generate web pages. Part of the design of this example is to exhibit many</span>
<span class="comment"> * different QueryPath functions in one long chain. All of the methods shown </span>
<span class="comment"> * here are fully documented in {@link QueryPath}.</span>
<span class="comment"> *</span>
<span class="comment"> * The method used in this example is a typical example of how QueryPath can </span>
<span class="comment"> * gradually build up content. Other methods include using {@link QPTPL} for </span>
<span class="comment"> * templates, injecting database information with {@link QPDB}, and merging</span>
<span class="comment"> * data from one QueryPath to another.</span>
<span class="comment"> *</span>
<span class="comment"> * @author M Butcher &lt;matt@aleph-null.tv&gt;</span>
<span class="comment"> * @license LGPL The GNU Lesser GPL (LGPL) or an MIT-like license.</span>
<span class="comment"> */</span>
 
require_once <span class="stringliteral">&#39;../src/QueryPath/QueryPath.php&#39;</span>;

<span class="comment">// Begin with an HTML stub document (XHTML, actually), and navigate to the title.</span>
<a class="code" href="group__querypath__core.html#gaef0367b722980142efd304a5ed41fb15" title="The CssEventHandler interfaces with the CSS parser.">qp</a>(<a class="code" href="class_query_path.html#a5728576905f79bc6dfdfad6aad326aed" title="This is a stub HTML 4.01 document.">QueryPath::HTML_STUB</a>, <span class="stringliteral">&#39;title&#39;</span>)
  <span class="comment">// Add some text to the title</span>
  -&gt;text(<span class="stringliteral">&#39;Example of QueryPath.&#39;</span>)
  <span class="comment">// Now look for the &lt;body&gt; element</span>
  -&gt;find(<span class="stringliteral">&#39;:root body&#39;</span>)
  <span class="comment">// Inside the body, add a title and paragraph.</span>
  -&gt;append(<span class="stringliteral">&#39;&lt;h1&gt;This is a test page&lt;/h1&gt;&lt;p&gt;Test text&lt;/p&gt;&#39;</span>)
  <span class="comment">// Now we select the paragraph we just created inside the body</span>
  -&gt;children(<span class="charliteral">&#39;p&#39;</span>)
  <span class="comment">// Add a &#39;class=&quot;some-class&quot;&#39; attribute to the paragraph</span>
  -&gt;attr(<span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;some-class&#39;</span>)
  <span class="comment">// And add a style attribute, too, setting the background color.</span>
  -&gt;css(<span class="stringliteral">&#39;background-color&#39;</span>, <span class="stringliteral">&#39;#eee&#39;</span>)
  <span class="comment">// Now go back to the paragraph again</span>
  -&gt;parent()
  <span class="comment">// Before the paragraph and the title, add an empty table.</span>
  -&gt;prepend(<span class="stringliteral">&#39;&lt;table id=&quot;my-table&quot;&gt;&lt;/table&gt;&#39;</span>)
  <span class="comment">// Now let&#39;s go to the table...</span>
  -&gt;find(<span class="stringliteral">&#39;#my-table&#39;</span>)
  <span class="comment">// Add a couple of empty rows</span>
  -&gt;append(<span class="stringliteral">&#39;&lt;tr&gt;&lt;/tr&gt;&lt;tr&gt;&lt;/tr&gt;&#39;</span>)
  <span class="comment">// select the rows (both at once)</span>
  -&gt;children()
  <span class="comment">// Add a CSS class to both rows</span>
  -&gt;addClass(<span class="stringliteral">&#39;table-row&#39;</span>)
  <span class="comment">// Now just get the first row (at position 0)</span>
  -&gt;eq(0)
  <span class="comment">// Add a table header in the first row</span>
  -&gt;append(<span class="stringliteral">&#39;&lt;th&gt;This is the header&lt;/th&gt;&#39;</span>)
  <span class="comment">// Now go to the next row</span>
  -&gt;next()
  <span class="comment">// Add some data to this row</span>
  -&gt;append(<span class="stringliteral">&#39;&lt;td&gt;This is the data&lt;/td&gt;&#39;</span>)
  <span class="comment">// Write it all out as HTML</span>
  -&gt;writeHTML();
?&gt;
</pre></div> </div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Fri Feb 3 2012 17:38:42 for QueryPath by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
