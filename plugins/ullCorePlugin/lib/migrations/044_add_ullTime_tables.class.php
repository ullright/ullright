<?php
/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class AddUllTimeTables extends Doctrine_Migration
{
  public function up()
  {
    $this->createTable('ull_time_reporting', array('id' => array('type' => 'integer', 'length' => 20, 'autoincrement' => true, 'primary' => true), 'namespace' => array('type' => 'string', 'length' => 32), 'ull_user_id' => array('type' => 'integer', 'notnull' => true, 'length' => 2147483647), 'date' => array('type' => 'date', 'notnull' => true, 'length' => 25), 'begin_work_at' => array('type' => 'time', 'length' => 25), 'end_work_at' => array('type' => 'time', 'length' => 25), 'begin_break1_at' => array('type' => 'time', 'length' => 25), 'end_break1_at' => array('type' => 'time', 'length' => 25), 'begin_break2_at' => array('type' => 'time', 'length' => 25), 'end_break2_at' => array('type' => 'time', 'length' => 25), 'begin_break3_at' => array('type' => 'time', 'length' => 25), 'end_break3_at' => array('type' => 'time', 'length' => 25), 'total_work_seconds' => array('type' => 'integer', 'length' => 2147483647), 'total_break_seconds' => array('type' => 'integer', 'length' => 2147483647), 'created_at' => array('type' => 'timestamp', 'length' => 25), 'updated_at' => array('type' => 'timestamp', 'length' => 25), 'creator_user_id' => array('type' => 'integer', 'length' => 2147483647), 'updator_user_id' => array('type' => 'integer', 'length' => 2147483647)), array('indexes' => array(), 'primary' => array(0 => 'id')));
    $this->createTable('ull_time_period', array('id' => array('type' => 'integer', 'length' => 20, 'autoincrement' => true, 'primary' => true), 'namespace' => array('type' => 'string', 'length' => 32), 'from_date' => array('type' => 'date', 'notnull' => true, 'length' => 25), 'to_date' => array('type' => 'date', 'notnull' => true, 'length' => 25), 'created_at' => array('type' => 'timestamp', 'length' => 25), 'updated_at' => array('type' => 'timestamp', 'length' => 25), 'creator_user_id' => array('type' => 'integer', 'length' => 2147483647), 'updator_user_id' => array('type' => 'integer', 'length' => 2147483647), 'slug' => array('type' => 'string', 'length' => 255)), array('indexes' => array('sluggable' =>  array( 'fields' =>  array( 0 => 'slug',  ),  'type' => 'unique', )), 'primary' => array(0 => 'id')));
    $this->createTable('ull_project', array('id' => array('type' => 'integer', 'length' => 20, 'autoincrement' => true, 'primary' => true), 'namespace' => array('type' => 'string', 'length' => 32), 'created_at' => array('type' => 'timestamp', 'length' => 25), 'updated_at' => array('type' => 'timestamp', 'length' => 25), 'creator_user_id' => array('type' => 'integer', 'length' => 2147483647), 'updator_user_id' => array('type' => 'integer', 'length' => 2147483647), 'slug' => array('type' => 'string', 'length' => 255)), array('indexes' => array('sluggable' =>  array( 'fields' =>  array( 0 => 'slug',  ),  'type' => 'unique', )), 'primary' => array(0 => 'id')));
    $this->createTable('ull_project_reporting', array('id' => array('type' => 'integer', 'length' => 20, 'autoincrement' => true, 'primary' => true), 'namespace' => array('type' => 'string', 'length' => 32), 'ull_user_id' => array('type' => 'integer', 'notnull' => true, 'length' => 2147483647), 'date' => array('type' => 'date', 'notnull' => true, 'length' => 25), 'ull_project_id' => array('type' => 'integer', 'notnull' => true, 'length' => 2147483647), 'duration_seconds' => array('type' => 'integer', 'notnull' => true, 'length' => 2147483647), 'comment' => array('type' => 'string', 'length' => 4000), 'week' => array('type' => 'integer', 'length' => 2147483647), 'created_at' => array('type' => 'timestamp', 'length' => 25), 'updated_at' => array('type' => 'timestamp', 'length' => 25), 'creator_user_id' => array('type' => 'integer', 'length' => 2147483647), 'updator_user_id' => array('type' => 'integer', 'length' => 2147483647)), array('indexes' => array(), 'primary' => array(0 => 'id')));
    $this->createTable('ull_time_period_translation', array('id' => array('type' => 'integer', 'length' => 20, 'primary' => true), 'name' => array('type' => 'string', 'notnull' => true, 'length' => 128), 'lang' => array('fixed' => true, 'primary' => true, 'type' => 'string', 'length' => 2)), array('indexes' => array(), 'primary' => array(0 => 'id', 1 => 'lang')));
    $this->createTable('ull_project_translation', array('id' => array('type' => 'integer', 'length' => 20, 'primary' => true), 'name' => array('type' => 'string', 'notnull' => true, 'length' => 128), 'description' => array('type' => 'string', 'length' => 4000), 'lang' => array('fixed' => true, 'primary' => true, 'type' => 'string', 'length' => 2)), array('indexes' => array(), 'primary' => array(0 => 'id', 1 => 'lang')));

    $this->createForeignKey('ull_time_reporting', array('local' => 'creator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_time_reporting_creator_user_id'));
    $this->createForeignKey('ull_time_reporting', array('local' => 'updator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_time_reporting_updator_user_id'));
    $this->createForeignKey('ull_time_reporting', array('local' => 'ull_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_time_reporting_ull_user_id'));
    $this->createForeignKey('ull_time_period', array('local' => 'creator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_time_period_creator_user_id'));
    $this->createForeignKey('ull_time_period', array('local' => 'updator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_time_period_updator_user_id'));
    $this->createForeignKey('ull_project', array('local' => 'creator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_project_creator_user_id'));
    $this->createForeignKey('ull_project', array('local' => 'updator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_project_updator_user_id'));
    $this->createForeignKey('ull_project_reporting', array('local' => 'creator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_project_reporting_creator_user_id'));
    $this->createForeignKey('ull_project_reporting', array('local' => 'updator_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_project_reporting_updator_user_id'));
    $this->createForeignKey('ull_project_reporting', array('local' => 'ull_user_id', 'foreign' => 'id', 'foreignTable' => 'ull_entity', 'onUpdate' => NULL, 'onDelete' => NULL, 'name' => 'ull_project_reporting_ull_user_id'));
    $this->createForeignKey('ull_project_reporting', array('local' => 'ull_project_id', 'foreign' => 'id', 'foreignTable' => 'ull_project', 'onUpdate' => NULL, 'onDelete' => 'CASCADE', 'name' => 'ull_project_reporting_ull_project_id'));
    $this->createForeignKey('ull_time_period_translation', array('local' => 'id', 'foreign' => 'id', 'foreignTable' => 'ull_time_period', 'onUpdate' => 'CASCADE', 'onDelete' => 'CASCADE', 'name' => 'ull_time_period_translation_id'));
    $this->createForeignKey('ull_project_translation', array('local' => 'id', 'foreign' => 'id', 'foreignTable' => 'ull_project', 'onUpdate' => 'CASCADE', 'onDelete' => 'CASCADE', 'name' => 'ull_project_translation_id'));
  }

  public function down()
  {
    $this->dropTable('ull_time_period_translation');
    $this->dropTable('ull_project_translation');
    $this->dropTable('ull_project_reporting');
    $this->dropTable('ull_time_reporting');
    $this->dropTable('ull_project');
    $this->dropTable('ull_time_period');
  }
}